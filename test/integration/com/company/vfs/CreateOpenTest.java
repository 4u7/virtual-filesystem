package com.company.vfs;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import static com.company.vfs.Utils.*;
import static org.hamcrest.CoreMatchers.is;
import static org.junit.Assert.assertThat;

public class CreateOpenTest {

    @Before
    public void setUp() throws Exception {
        VirtualFileSystem.create(FILESYSTEM_FILENAME)
                .maxBlocks(1024)
                .maxEntries(1024)
                .build();
    }

    @Test
    public void open() throws Exception {
        VirtualFileSystem fs = VirtualFileSystem.open(Utils.FILESYSTEM_FILENAME);
        assertThat(fs.getMaxBlocks(), is(1024));
        assertThat(fs.getBlockCount(), is(0));
        assertThat(fs.getMaxEntries(), is(1024));
        assertThat(fs.getEntriesCount(), is(1));
    }

    @After
    public void tearDown() throws Exception {
        removeFilesystemFile();
    }

}